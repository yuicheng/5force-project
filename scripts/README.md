# 数据库种子脚本

这个目录包含了用于填充测试数据的脚本。

## 文件说明

### `seed-database.js`
主要的数据库种子脚本，用于创建测试用户及其相关的所有数据。

**功能：**
- 清理现有数据（避免冲突）
- 创建测试用户
- 创建投资组合
- 创建投资账户
- 创建资产（AAPL, GOOGL, TSLA, SPY）
- 创建持仓记录
- 创建交易历史
- 创建投资组合历史记录

### `verify-data.js`
数据验证脚本，用于检查数据库中的数据是否正确创建。

**功能：**
- 显示所有表的数据统计
- 显示详细的数据内容
- 验证数据完整性

## 使用方法

### 1. 填充测试数据
```bash
node scripts/seed-database.js
```

### 2. 验证数据
```bash
node scripts/verify-data.js
```

## 测试用户信息

- **用户名**: `testuser`
- **邮箱**: `test@example.com`
- **密码哈希**: `$2b$10$dummy.hash.for.testing.purposes.only`

## 测试数据概览

### 投资组合
- 名称: "我的投资组合"
- 货币: USD
- 账户: 1个投资账户（余额: $50,000）

### 资产
- **AAPL** (Apple Inc.) - 股票
- **GOOGL** (Alphabet Inc.) - 股票  
- **TSLA** (Tesla, Inc.) - 股票
- **SPY** (SPDR S&P 500 ETF Trust) - ETF

### 持仓
- AAPL: 100股，平均成本 $145
- GOOGL: 10股，平均成本 $2,750
- TSLA: 25股，平均成本 $750
- SPY: 50股，平均成本 $440

### 交易记录
- 6条交易记录，包括购买和存款操作
- 时间跨度：2024年1月-3月

### 历史记录
- 4条投资组合历史快照
- 时间跨度：2024年1月-4月
- 显示净值变化趋势

## 注意事项

1. 运行种子脚本会**清理所有现有数据**，请在生产环境中谨慎使用
2. 这是一个PoC项目，数据仅用于测试目的
3. 所有价格和数量都是模拟数据，不代表真实市场情况 